{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "配置环境",
            "type": "shell",
            "command": "iwr https://windows.spacetimedb.com -useb | iex; winget install Microsoft.DotNet.SDK.8; dotnet workload install wasi-experimental"
        },
        {
            "label": "初始化项目",
            "type": "shell",
            "command": "spacetime init --local --lang csharp --project-path ./main-server main-server",
        },
        {
            "label": "生成解决方案",
            "type": "shell",
            "command": "dotnet new sln -n main-server; dotnet sln main-server.sln add \"main-server\\spacetimedb\\StdbModule.csproj\"",
            "problemMatcher": []
        },
        {
            "label": "启动服务器",
            "type": "shell",
            "command": "spacetime start --data-dir server-data",
        },
        {
            "label": "编译插件",
            "type": "shell",
            "command": "spacetime publish --server local --project-path ./main-server/spacetimedb -y mainserver",
        }
        
    ]
}